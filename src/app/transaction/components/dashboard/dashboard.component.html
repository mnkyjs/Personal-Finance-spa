<div class="dashboard__wrapper">
  <div class="dashboard__items">
    <mat-card id="dashboard__input__area" class="example-card">
      <mat-card-header>
        <mat-card-title>Ausgaben Tracker</mat-card-title>
        <mat-card-subtitle>Powered by mnky</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <h2 style="text-align: center" *ngIf="this.totalBalance">
          {{ this.totalBalance }} €
        </h2>
        <form [formGroup]="selectInputForm">
          <div class="row center">
            <mat-form-field class="w50" appearance="fill">
              <mat-label>Enter a date range</mat-label>
              <mat-date-range-input [rangePicker]="picker">
                <input
                  matStartDate
                  formControlName="start"
                  placeholder="Start date"
                />
                <input
                  matEndDate
                  formControlName="end"
                  (dateChange)="updateCalc($event)"
                  placeholder="End date"
                />
              </mat-date-range-input>
              <mat-datepicker-toggle
                matSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-date-range-picker #picker></mat-date-range-picker>
            </mat-form-field>
          </div>
        </form>
        <br/>
        <mat-divider></mat-divider>
        <br/>

        <mat-card-actions id="transaction__list">
          <ng-container
            *ngFor="let transaction of transactions$ | async; trackBy: trackByFn"
          >
            <div class="transaction row">
              <mat-icon
                style="font-size: 3vh; display: table"
                [ngStyle]="{
                  color:
                    transaction.transactionType === transactionTypes.Einnahmen
                      ? '#66BB6A'
                      : '#ef5350'
                }"
              >
                monetization_on
              </mat-icon>
              <div style="margin: 5px" class="column">
                <p>{{ transaction.title }} - {{getCategoryName(transaction.categoryId)}}</p>
                <p>
                  {{ transaction.value }} € -
                  {{ transaction.date | date}}
                </p>
              </div>
              <button
                class="delete__btn"
                mat-mini-fab
                (click)="deleteTransaction(transaction)"
                aria-label="Example icon button with a menu icon"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </ng-container>
        </mat-card-actions>
      </mat-card-content>
    </mat-card>
  </div>
</div>
